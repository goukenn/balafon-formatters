{
    "scopeName": "scope.litteralString",
    "settings": {
        "instructionSeparator": ";"
    },
    "patterns": [
        {
            "include":"#core-definition"
        }
    ],
    "repository": {
        "core-definition":{
            "name":"core.definition.js",
            "patterns":[
                {
                    "include": "#reserved-words"
                },
                {
                    "include": "#number"
                },
                {
                    "include": "#trim-multispace"
                },
                {
                    "include": "#string"
                },
                {
                    "include": "#branket-function-condition"
                },
                {
                    "include": "#end-instruction"
                },
                {
                    "include": "#block-branket"
                },
                {
                    "include": "#multi-line-comment"
                },
                {
                    "include": "#single-line-comment"
                }
            ]
        },
        "reserved-words": {
            "match": "\\b(let|var|const|if|function|else|return|while|in|of|do|super|static|extends|instanceof|false|true)\\b",
            "name": "reserved-word",
            "tokenID":"reserved-word"
        },
        "block-branket": {
            "begin": "\\{",
            "end": "\\}",
            "name": "block",
            "isBlock": true,
            "patterns": [
                {
                    "include": "#reserved-words"
                },
                {
                    "include": "#end-instruction"
                },
                {
                    "include": "#string"
                },
                {
                    "include": "#number"
                },
                {
                    "include": "#trim-multispace"
                },
                {
                    "include": "#block-branket"
                },
                {
                    "include": "#branket-function-condition"
                },
                {
                    "include": "#multi-line-comment"
                },
                {
                    "include": "#single-line-comment"
                }
            ]
        },
        "trim-multispace": {
            "match": "\\s+",
            "name": "multi-line-space",
            "replaceWith": " "
        },
        "end-instruction": {
            "match": "(;)",
            "name": "operator.end.instruction",
            "lineFeed": true,
            "isInstructionSeparator": true
        },
        "string": {
            "begin": "(\"|')",
            "end": "$1",
            "name": "constant.string.litteral",
            "tokenID": "string",
            "captures": {
                "0": {
                    "name": "sting.marker.html",
                    "tokenID": "stringMarker"
                }
            },
            "patterns": [
                {
                    "match": "\\\\.",
                    "name": "escaped.string"
                }
            ]
        },
        "branket-function-condition": {
            "begin": "\\s*\\(\\s*",
            "end": "\\s*\\)\\s*",
            "name": "branket.function",
            "transform": "trim",
            "beginCaptures": {
                "0": {
                    "transform": "trim"
                }
            },
            "endCaptures": {
                "0": {
                    "transform": "trim"
                }
            },
            "patterns":[
                {
                    "include": "#reserved-words"
                }
            ]
        },
        "multi-line-comment": {
            "begin": "\\/\\*",
            "end": "\\*/",
            "name": "constant.comment.multiline",
            "tokenID": "comment",
            "formattingMode": 1
        },
        "single-line-comment": {
            "begin": "\\/\\/",
            "end": "$",
            "name": "constant.comment.single-line",
            "tokenID": "comment",
            "formattingMode": 1
        },
        "number": {
            "match": "\\b(\\.\\d+)|(\\d+(\\.(\\d+)?)?)", 
            "name": "constant.number.js",
            "tokenID": "number",
            "className":"number-class"
        }
    },
    "engine": "html-listener"
}